/* ---- 基本主題（保留深/淺模式） ---- */
:root {
  color-scheme: light dark;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans TC", sans-serif;
  line-height: 1.5;
  font-weight: 400;

  /* tokens */
  --radius: 14px;
  --shadow: 0 8px 24px rgba(0,0,0,.08), 0 2px 8px rgba(0,0,0,.06);
  --shadow-dark: 0 10px 28px rgba(0,0,0,.55), 0 2px 10px rgba(0,0,0,.35);
  --border: rgba(0,0,0,.08);
  --border-dark: rgba(255,255,255,.12);
  --btn-bg: #111; --btn-fg: #fff; --btn-bg-hover: #222; --btn-ring: #646cff;
}
@media (prefers-color-scheme: dark) {
  :root { --btn-bg:#2a2a2a; --btn-fg:#fff; --btn-bg-hover:#3a3a3a; }
}

/* ---- 修正 Vite 預設：不要用 flex 置中整個 body ---- */
html, body { margin:0; padding:0; background: Canvas; color: CanvasText; }
body { display:block; min-width: 320px; min-height: 100vh; }
#root { display:block; }

/* ---- 版面 / 卡片 ---- */
.container { max-width: 1040px; margin: 0 auto; padding: 20px; }
@media (min-width: 1024px) { .container { padding: 28px; } }

.card {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 18px;
  margin-top: 16px;
  background: rgba(255,255,255,.9);
  box-shadow: var(--shadow);
  backdrop-filter: saturate(120%) blur(2px);
}
@media (prefers-color-scheme: dark) {
  .card { background: rgba(30,30,30,.9); border-color: var(--border-dark); box-shadow: var(--shadow-dark); }
}

/* ---- 標題（手機不醜換行） ---- */
.title{
  text-align:center; font-weight:800; line-height:1.15; margin:8px 0 4px;
  font-size: clamp(22px, 5.5vw, 40px);
  text-wrap: balance; word-break: keep-all; overflow-wrap: anywhere;
}
h2{ font-size:18px; margin:0 0 10px; }

/* ---- Grid & Inputs ---- */
.grid-2{
  display: grid;
  /* row-gap / column-gap */
  row-gap: 10px;
  column-gap: 12px;   /* 手機單欄時沒差，先給一個基礎值 */
  grid-template-columns: 1fr;
}
@media (min-width: 640px){
  .grid-2{
    grid-template-columns: 1fr 1fr;
    /* 桌面兩欄時，把中間距拉大一點比較不擠 */
    column-gap: 20px;
    row-gap: 10px;
  }
}

/* 新增付款紀錄那塊：同樣把欄間距拉大一些 */
.grid-3{
  display: grid;
  grid-template-columns: 1fr;
  align-items: end;
  row-gap: 10px;
  column-gap: 12px;
}
@media (min-width: 768px){
  .grid-3{
    grid-template-columns: 1fr 1fr 1fr;
    column-gap: 20px; /* 三欄中間距 */
    row-gap: 10px;
  }
}

.input-full{ width:100%; }

input[type="number"], input[type="text"], select{
  width:100%; border:1px solid var(--border); border-radius:10px;
  padding:10px 12px; background:transparent; color:inherit; outline:none;
  transition: box-shadow .15s ease, border-color .15s ease, background .2s;
  font-size:16px;
}
input::placeholder{ opacity:.7; }
@media (prefers-color-scheme: dark){
  input[type="number"], input[type="text"], select{ border-color:var(--border-dark); background:rgba(255,255,255,.03); }
}
input:focus, select:focus{
  border-color: var(--btn-ring);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--btn-ring) 28%, transparent);
}

/* ---- Buttons ---- */
.btn-primary{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 26px; border-radius:999px; border:1px solid transparent;
  background:var(--btn-bg); color:var(--btn-fg); font-weight:600; letter-spacing:.2px;
  transition: transform .05s ease, box-shadow .15s ease, background .15s ease;
  box-shadow: 0 2px 0 rgba(0,0,0,.08);
}
.btn-primary:hover{ background:var(--btn-bg-hover); transform:translateY(-1px); }
.btn-primary:active{ transform:translateY(0); }
.btn-primary:disabled{ opacity:.55; cursor:not-allowed; filter:grayscale(.2); }

.btn-ghost{
  border:1px solid var(--border); background:transparent; color:inherit;
  border-radius:10px; padding:6px 10px; transition: background .15s, border-color .15s;
}
.btn-ghost:hover{
  background: color-mix(in srgb, currentColor 8%, transparent);
  border-color: color-mix(in srgb, currentColor 20%, transparent);
}

/* ---- Records ---- */
.record-item{
  display:flex; justify-content:space-between; align-items:center;
  border-radius:10px; padding:10px 12px; margin-top:8px; font-size:14px;
  background:#fff; color:#000; border:1px solid var(--border);
}
@media (prefers-color-scheme: dark){
  .record-item{ background:#2e2e2e; color:#fff; border-color:var(--border-dark); }
}

/* ---- Utilities & animation ---- */
.center{ display:flex; justify-content:center; }
@media (prefers-reduced-motion: no-preference){
  .fade-in{ animation: fadeIn .24s ease-out both; }
  @keyframes fadeIn{ from{opacity:0; transform:translateY(4px);} to{opacity:1; transform:translateY(0);} }
}
